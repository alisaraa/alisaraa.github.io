<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.77.0" />

  <title>Database Storage &middot; Alisa in Techland</title>

  <meta name="description" content="" />

  
  <meta property="og:locale" content="en-us"/>

  
  <meta property="og:image" content="https://www.alisa-in.tech/images/profile.png">

  
  <meta property="og:site_name" content="Alisa in Techland"/>
  <meta property="og:title" content="Database Storage"/>
  <meta property="og:description" content="There are two types of relational database management systems: columnar and row-based, also called: column-wise and row-wise, column store and row store, column-based and row-based, and column-oriented and row-oriented."/>
  <meta property="og:url" content="https://www.alisa-in.tech/post/2019-07-03-rowbased/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2018-07-03T15:12:11-0400"/>
  <meta property="article:modified_time" content="2018-07-03T15:12:11-0400"/>
  <meta property="article:author" content="Alisa">
  
  
  

  <script type="application/ld+json">
  {
    "@context" : "http://schema.org",
    "@type" : "Blog",
    "name": "Alisa in Techland",
    "url" : "https://www.alisa-in.tech/",
    "image": "https://www.alisa-in.tech/images/profile.png",
    "description": ""
  }
  </script>

  
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "name": "Database Storage",
    "headline": "Database Storage",
    "datePublished": "2018-07-03T15:12:11-0400",
    "dateModified": "2018-07-03T15:12:11-0400",
    "author": {
      "@type": "Person",
      "name": "Alisa",
      "url": "https://www.alisa-in.tech/"
    },
    "image": "https://www.alisa-in.tech/images/profile.png",
    "url": "https://www.alisa-in.tech/post/2019-07-03-rowbased/",
    "description": "There are two types of relational database management systems: columnar and row-based, also called: column-wise and row-wise, column store and row store, column-based and row-based, and column-oriented and row-oriented."
  }
  </script>
  


  <link type="text/css"
        rel="stylesheet"
        href="https://www.alisa-in.tech/css/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="https://www.alisa-in.tech/css/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="https://www.alisa-in.tech/css/hyde.css">

  


  <link type="text/css" rel="stylesheet" href="https://www.alisa-in.tech/css/blog.css">

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/favicon.png">

  
  </head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <img src="https://www.alisa-in.tech/images/profile.png" class="img-circle img-headshot center" alt="Profile Picture">
        </div>
        
      

      <h1>Alisa in Techland</h1>

      
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li>
          <a href="https://www.alisa-in.tech/">Home</a>
        </li>
        <li>
          <a href="/post/"> Posts </a>
        </li><li>
          <a href="/about/"> About </a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
      <a href="https://www.linkedin.com/in/alisa-aylward-266aa3a1/" rel="me" title="Linkedin">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
      </a>
      
      <a href="https://github.com/alisaraa" rel="me" title="GitHub">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
    </section>
  </div>
</aside>


  <main class="content container">
  <div class="post">
  <h1>Database Storage</h1>

  <div class="post-date">
    <time datetime="2018-07-03T15:12:11-0400">Jul 3, 2018</time> · 4 min read
  </div>

  <p>There are two types of relational database management systems: columnar and row-based, also called: column-wise and row-wise, column store and row store, column-based and row-based, and column-oriented and row-oriented.</p>
<p>As always, I will be explaining this concept to my nephew Rhys (pronounced Reese, thanks) who is turning six in July.  I will be explaining the two types to Rhys via a long analogy about his toys.</p>
<p>Okay Rhys, first we want to show the benefits of a row-based database. Since the difference between row and column-based databases mostly pertains to their method of storage, we are going to think through two different ways to store your toys: by game or toy type. If you store by game, that’s row-based; by toy, that’s column-based.</p>
<p>Let’s start with storing by game. You could store by game if every time you play with a set of toys, you put the combination of toys in a toy box when you’re done. If you played a game for which you need three stuffed dinosaurs, two Barbies, and some playdough, you store those all in the same box when you&rsquo;re done and retrieve them all from the same box each time you want to play again. This makes setting up for a game much easier. You may even number the boxes (blocks) so you can remember which one is which (row id). In this analogy, we have to assume infinite toys, which honestly isn’t too big of an imaginary stretch. So now you have loads of similar sized boxes with different toys in them.</p>
<p>Similar to how this will make it easy for you to store and retrieve individual games, row-based databases are optimized for inserting and retrieving individual records, because the entire row is stored together. A good use case for this would be when you fill out your order information on a site; all of that data is stored all together at the same time. When your order summary email is sent, this is a retrieval of your record of data, which hopefully is sent quickly. In addition to speed though, we have to consider storage.</p>
<p>If your mom bought you boxes of a similar size, some may have a lot of empty space, while others toys may not fit so we will have to use a second box for them. This is a waste of space and hard to keep track of; how do we know when a game will require us to go get two boxes instead of one! Therefore, although it’s quick to get our toys ready for the game, we only have so much room in our house for boxes, and we’re sometimes <a href="https://docs.aws.amazon.com/redshift/latest/dg/c_columnar_storage_disk_mem_mgmnt.html">wasting space</a></p>
<p>Here’s another drawback: what if I asked you how many Barbie dolls you have? It would take forever for you to count them. You would have to check each box, even those that you found ultimately didn’t have any Barbies. That’s an inefficient way to get to the answer.</p>
<p>So what if we organized our bins differently, as in a column-based database? What if we had a Barbie doll bin in which we order and label the dolls for what game they’re part of. And a Jeep bin. And a playdough bin.  If we wanted to play game #3, we’d to have to check each box to see if it had a toy marked for #3 and then extract that. Setting up and putting away each game would be a pain!</p>
<p>But this way of storage gives us some benefits:</p>
<ul>
<li>Storing Barbie dolls together is easier than storing toys of different shapes (this help us with compression,
<a href="https://docs.aws.amazon.com/redshift/latest/dg/c_Compression_encodings.html">see more info here</a></li>
<li>We can now quickly calculate things like count of Barbie dollars, average number of Barbie dolls, or just get all our dolls quickly.</li>
<li>We will fill the entire Barbie doll bin before we start another bin; there will only be one doll bin with extra space (the last one). This will decrease the total wasted space overall.</li>
</ul>
<p>So what does this mean? Which way should Rhys store his toys? Well, there is no right way, it depends on what Rhys wants. Does Rhys want to insert combinations and retrieve one game efficiently? Or does he want to do calculations, such as count and average?</p>
<p>Traditional row-based databases include:</p>
<ul>
<li>Oracle</li>
<li>SQL Server</li>
<li>Postgres</li>
<li>MySQL</li>
</ul>
<p>Note that some of these now have column-based engines available. <!-- raw HTML omitted --><a href="http://www.dba-oracle.com/t_row_column_oriented_data_storage_tde.html">1</a> <a href="https://wiki.postgresql.org/wiki/ColumnOrientedSTorage">2</a><!-- raw HTML omitted --></p>
<p>These types of databases are optimized for inserts, especially inserting an entire row at once. They’re also good for retrieving entire rows, like the entire combination of toys Rhys wants to play with. But they are not good for doing analytical work; for that we need a columnar database. Columnar databases include:</p>
<ul>
<li>Redshift</li>
<li>Vertica</li>
<li>Snowflake</li>
</ul>
<p>The idea here is that when you do analytical work, such as finding the average number of customers per product, you will use two columns but all the rows. When retrieving a user’s profile data, on the other hand, you are accessing all columns and only one row. The latter would be a good use case for a row based database.</p>

</div>


  </main>

  <footer>
  <div class="copyright">
    &copy; Alisa Aylward 2024 · <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>

  <script src="https://www.alisa-in.tech/js/blog.js"></script>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-112486152-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>
